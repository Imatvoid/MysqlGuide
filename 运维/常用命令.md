## 常用命令



### 用户管理

```mysql
#登陆
mysql -uroot -p
#查看用户
use mysql;
mysql>select host,user from mysql.user;

mysql> CREATE USER 'username'@'host' IDENTIFIED BY 'password';  #创建用户
mysql> GRANT ALL PRIVILEGES ON databasename.tablename TO 'username'@'host';
#privileges：用户的操作权限，如 SELECT，INSERT，UPDATE 等，如果要授予所的权限则使用ALL
mysql> SHOW GRANTS FOR 'username'@'host';
mysql> REVOKE privilege ON databasename.tablename FROM 'username'@'host';
mysql> DROP USER 'username'@'host';
```



- username：你将创建的用户名
- host：指定该用户在哪个主机上可以登陆，如果是本地用户可用 localhost，如果想让该用户可以从任意远程主机登陆，可以使用通配符 %
- password：该用户的登陆密码，密码可以为空，如果为空则该用户可以不需要密码登陆服务器
- privileges：用户的操作权限，如 SELECT，INSERT，UPDATE 等，如果要授予所的权限则使用ALL
- databasename：数据库名
- tablename：表名，如果要授予该用户对所有数据库和表的相应操作权限则可用 * 表示，如 *.*



### 忘记root密码重置

修改MySQL的配置文件（默认为/etc/my.cnf）,在[mysqld]下添加一行skip-grant-tables

保存配置文件后，重启MySQL服务 service mysqld restart

再次进入MySQL命令行 mysql -uroot -p,输入密码时直接回车，就会进入MySQL数据库了，这个时候按照常规流程修改root密码即可。

```mysql
#更改数据库
mysql>use mysql;    

#  旧版
mysql>UPDATE user SET PASSORD =password("passwd") WHERE USER= 'root';  #重设密码
#  新版
mysql>UPDATE user SET authentication_string =password("passwd") WHERE USER= 'root';  #重设密码
UPDATE user SET authentication_string =password("123Pppp") WHERE USER= 'xu' and host = '%';
# 刷新MySQL的系统权限相关表，以防止更改后拒绝访问；或或者重启MySQL服务器
# 密码修改完毕后，再按照步骤1中的流程，删掉配置文件中的那行，并且重启MySQL服务，新密码就生效了。
mysql>flush privileges; 

```









