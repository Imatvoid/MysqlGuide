## 为什么需要redo

我们只是想让已经提交了的事务对数据库中数据所做的修改永久生效，即使后来系统崩溃，在重启后也能把这种修改恢复出来。所以我们其实没有必要在每次事务提交时就把该事务在内存中修改过的全部页面刷新到磁盘，只需要把修改了哪些东西记录一下就好.



## redo日志格式

物理日志

逻辑日志



## redo日志刷盘时机

空间不足

事务提交

线程自动提交

关闭服务器